@page "/"
@using labyrinth


<PageTitle>Index</PageTitle>

<h1>Hello, world!</h1>

Welcome to your new app.

<p>@history</p>

@code
{
    MazeCell startLocation = MazeUtilities.mazeFor("Jonathan");
    string history;

    protected override void OnInitialized()
    {
        MazeCell currentLocation = startLocation;
        MazeCell nextLocation = currentLocation?.North ?? currentLocation?.East ?? currentLocation?.South ?? currentLocation.West;;

        while (nextLocation != startLocation)
        {
            nextLocation = currentLocation?.North ?? currentLocation?.East ?? currentLocation?.South ?? currentLocation.West;
            history+=$"From {currentLocation.Id} to {nextLocation.Id}<br/>";
            currentLocation = nextLocation;
        }
    }
}